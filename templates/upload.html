<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Upload Media File</title>
</head>
<body>
  <h1>Upload Media File</h1>

  <form action="/upload" method="post" enctype="multipart/form-data">
    <!-- Select Media Type -->
    <label for="media_type">Select Media Type:</label>
    <select name="media_type" id="media_type" required>
      <option value="">Select...</option>
      <option value="audio">Audio</option>
      <option value="video">Video</option>
    </select>
    <br><br>

    <!-- Video Options: Show only if "Video" is selected -->
    <div id="video_options" style="display: none;">
      <label for="video_type">Select Video Type:</label>
      <select name="video_type" id="video_type">
        <option value="movie">Movie</option>
        <option value="tv_show">TV Show</option>
        <option value="home_video">Home Video</option>
      </select>
      <br><br>
    </div>

    <!-- Audio Metadata: Show only if "Audio" is selected -->
    <div id="audio_metadata" style="display: none;">
      <label for="artist">Artist:</label>
      <input type="text" name="artist"><br><br>

      <label for="album">Album:</label>
      <input type="text" name="album"><br><br>

      <label for="title">Title:</label>
      <input type="text" name="title"><br><br>

      <label for="track_number">Track Number:</label>
      <input type="number" name="track_number"><br><br>
    </div>

    <!-- Movie Metadata -->
    <div id="movie_metadata" style="display: none;">
      <label for="title">Title:</label>
      <input type="text" name="title"><br><br>

      <label for="director">Director:</label>
      <input type="text" name="director"><br><br>

      <label for="year">Release Year:</label>
      <input type="number" name="year"><br><br>

      <label for="genre">Genre:</label>
      <input type="text" name="genre"><br><br>
    </div>

    <!-- TV Show Metadata -->
    <div id="tv_metadata" style="display: none;">
      <label for="series">Series Name:</label>
      <input type="text" name="series"><br><br>

      <label for="season">Season Number:</label>
      <input type="number" name="season"><br><br>

      <label for="episode">Episode Number:</label>
      <input type="number" name="episode"><br><br>

      <label for="episode_title">Episode Title:</label>
      <input type="text" name="episode_title"><br><br>
    </div>

    <!-- Home Video Metadata -->
    <div id="home_video_metadata" style="display: none;">
      <label for="title">Title:</label>
      <input type="text" name="title"><br><br>

      <label for="description">Description:</label>
      <textarea name="description"></textarea><br><br>

      <label for="date">Date Recorded:</label>
      <input type="date" name="date"><br><br>
    </div>

    <!-- File Selection -->
    <input type="file" name="file" required><br><br>

    <button type="submit">Upload</button>
  </form>

  <!-- JavaScript to Show/Hide Metadata Fields -->
  <script>
    document.getElementById("media_type").addEventListener("change", function() {
      const isVideo = this.value === "video";
      document.getElementById("video_options").style.display = isVideo ? "block" : "none";
      document.getElementById("audio_metadata").style.display = this.value === "audio" ? "block" : "none";
      document.getElementById("movie_metadata").style.display = "none";
      document.getElementById("tv_metadata").style.display = "none";
      document.getElementById("home_video_metadata").style.display = "none";
    });

    document.getElementById("video_type").addEventListener("change", function() {
      document.getElementById("movie_metadata").style.display = this.value === "movie" ? "block" : "none";
      document.getElementById("tv_metadata").style.display = this.value === "tv_show" ? "block" : "none";
      document.getElementById("home_video_metadata").style.display = this.value === "home_video" ? "block" : "none";
    });
  </script>
</body>
</html>